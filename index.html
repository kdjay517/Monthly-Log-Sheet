<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Work Log Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="app-header">
            <h1>Daily Work Log Tracker</h1>
            <div class="header-actions">
                <button class="btn btn--secondary" id="manageProjectsBtn">Manage Projects</button>
                <button class="btn btn--secondary" id="exportBtn">Export Month Data</button>
            </div>
        </header>

        <main class="app-main">
            <div class="calendar-section">
                <div class="calendar-header">
                    <button class="btn btn--outline" id="prevMonthBtn">&larr;</button>
                    <h2 id="currentMonth">October 2025</h2>
                    <button class="btn btn--outline" id="nextMonthBtn">&rarr;</button>
                </div>
                
                <div class="calendar-grid" id="calendarGrid">
                    <div class="calendar-day-header">Sun</div>
                    <div class="calendar-day-header">Mon</div>
                    <div class="calendar-day-header">Tue</div>
                    <div class="calendar-day-header">Wed</div>
                    <div class="calendar-day-header">Thu</div>
                    <div class="calendar-day-header">Fri</div>
                    <div class="calendar-day-header">Sat</div>
                </div>
            </div>

            <div class="log-section">
                <div class="selected-date-info">
                    <h3>Selected Date: <span id="selectedDateDisplay">Please select a date</span></h3>
                    <div class="daily-stats">
                        <span class="stat-item">Total Hours: <strong id="totalHours">0</strong></span>
                        <span class="stat-item" id="validationWarning"></span>
                    </div>
                </div>

                <div class="entry-form card" id="entryForm" style="display: none;">
                    <div class="card__body">
                        <h4>Add New Entry</h4>
                        
                        <div class="form-group">
                            <label class="form-label" for="entryType">Entry Type</label>
                            <select class="form-control" id="entryType">
                                <option value="">Select entry type...</option>
                                <option value="work">Work Entry</option>
                                <option value="fullLeave">Full Day Leave</option>
                                <option value="halfLeave">Half Day Leave</option>
                                <option value="holiday">Holiday</option>
                            </select>
                        </div>

                        <div class="form-group" id="projectGroup" style="display: none;">
                            <label class="form-label" for="project">Project</label>
                            <div class="project-input-group">
                                <input type="text" class="form-control" id="projectSearch" placeholder="Type to search projects...">
                                <select class="form-control" id="project" style="display: none;">
                                    <option value="">Select project...</option>
                                </select>
                            </div>
                            <div class="project-suggestions" id="projectSuggestions"></div>
                        </div>

                        <div class="form-group" id="hoursGroup" style="display: none;">
                            <label class="form-label" for="hours">Hours</label>
                            <input type="number" class="form-control" id="hours" min="0" max="8" step="0.5" placeholder="Enter hours">
                        </div>

                        <div class="form-group" id="halfDayPeriodGroup" style="display: none;">
                            <label class="form-label" for="halfDayPeriod">Time Period</label>
                            <select class="form-control" id="halfDayPeriod">
                                <option value="">Select time period...</option>
                                <option value="morning">Morning (8:00 AM - 12:00 PM)</option>
                                <option value="afternoon">Afternoon (1:00 PM - 5:00 PM)</option>
                            </select>
                        </div>

                        <div class="form-group" id="commentsGroup">
                            <label class="form-label" for="comments">Comments</label>
                            <textarea class="form-control" id="comments" rows="3" placeholder="Add any additional notes..."></textarea>
                        </div>

                        <div class="form-actions">
                            <button class="btn btn--primary" id="addEntryBtn">Add Entry</button>
                            <button class="btn btn--secondary" id="cancelEntryBtn" style="display: none;">Cancel</button>
                        </div>

                        <div id="formErrors" class="form-errors"></div>
                    </div>
                </div>

                <div class="daily-entries" id="dailyEntries">
                    <h4>Daily Entries</h4>
                    <div id="entriesList" class="entries-list">
                        <p class="no-entries">No entries for selected date</p>
                    </div>
                </div>
            </div>
        </main>

        <div class="legend">
            <h5>Legend</h5>
            <div class="legend-items">
                <span class="legend-item"><span class="legend-color work-color"></span>Work Entry</span>
                <span class="legend-item"><span class="legend-color full-leave-color"></span>Full Day Leave</span>
                <span class="legend-item"><span class="legend-color half-leave-color"></span>Half Day Leave</span>
                <span class="legend-item"><span class="legend-color holiday-color"></span>Holiday</span>
            </div>
        </div>
    </div>

    <!-- Project Management Modal -->
    <div id="projectManagementModal" class="modal hidden">
        <div class="modal-content project-modal">
            <div class="modal-header">
                <h3>Project Management</h3>
                <div class="project-modal-actions">
                    <button class="btn btn--sm btn--outline" id="importProjectsBtn">Import</button>
                    <button class="btn btn--sm btn--outline" id="exportProjectsBtn">Export</button>
                    <button class="btn btn--sm btn--primary" id="addNewProjectBtn">Add Project</button>
                    <button class="btn btn--sm btn--secondary" id="closeProjectModalBtn">Close</button>
                </div>
            </div>
            
            <div class="project-search-bar">
                <input type="text" class="form-control" id="projectSearchModal" placeholder="Search projects...">
            </div>

            <div class="project-stats">
                <div class="stat-card">
                    <span class="stat-label">Total Projects</span>
                    <span class="stat-value" id="totalProjectsCount">0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Active Projects</span>
                    <span class="stat-value" id="activeProjectsCount">0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Archived Projects</span>
                    <span class="stat-value" id="archivedProjectsCount">0</span>
                </div>
            </div>

            <div class="project-table-container">
                <table class="project-table" id="projectTable">
                    <thead>
                        <tr>
                            <th>Project ID</th>
                            <th>Sub Code</th>
                            <th>Title</th>
                            <th>Category</th>
                            <th>Usage Count</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="projectTableBody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Add/Edit Project Modal -->
    <div id="addEditProjectModal" class="modal hidden">
        <div class="modal-content">
            <h3 id="addEditProjectTitle">Add New Project</h3>
            
            <div class="form-group">
                <label class="form-label" for="projectIdInput">Project ID</label>
                <input type="text" class="form-control" id="projectIdInput" placeholder="e.g., WV-1112-4152">
            </div>

            <div class="form-group">
                <label class="form-label" for="subCodeInput">Sub Code</label>
                <input type="text" class="form-control" id="subCodeInput" placeholder="e.g., 0210">
            </div>

            <div class="form-group">
                <label class="form-label" for="projectTitleInput">Project Title</label>
                <input type="text" class="form-control" id="projectTitleInput" placeholder="e.g., AS_Strategy">
            </div>

            <div class="form-group">
                <label class="form-label" for="projectCategoryInput">Category</label>
                <select class="form-control" id="projectCategoryInput">
                    <option value="">Select category...</option>
                    <option value="Development">Development</option>
                    <option value="Strategy">Strategy</option>
                    <option value="Tracking">Tracking</option>
                    <option value="Research">Research</option>
                    <option value="Overhead">Overhead</option>
                    <option value="Controller">Controller</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label" for="projectDescriptionInput">Description (Optional)</label>
                <textarea class="form-control" id="projectDescriptionInput" rows="3" placeholder="Project description..."></textarea>
            </div>

            <div class="modal-actions">
                <button class="btn btn--primary" id="saveProjectBtn">Save Project</button>
                <button class="btn btn--secondary" id="cancelProjectBtn">Cancel</button>
            </div>

            <div id="projectFormErrors" class="form-errors"></div>
        </div>
    </div>

    <!-- Import/Export Modal -->
    <div id="importExportModal" class="modal hidden">
        <div class="modal-content">
            <h3 id="importExportTitle">Import Projects</h3>
            
            <div class="import-export-content">
                <div class="import-section" id="importSection">
                    <p>Select a JSON or CSV file to import projects:</p>
                    <input type="file" id="importFileInput" accept=".json,.csv" class="form-control">
                    <div class="import-preview" id="importPreview" style="display: none;">
                        <h5>Preview:</h5>
                        <div id="importPreviewContent"></div>
                    </div>
                </div>

                <div class="export-section" id="exportSection" style="display: none;">
                    <p>Export projects as:</p>
                    <div class="export-options">
                        <button class="btn btn--outline" id="exportJSONBtn">Export as JSON</button>
                        <button class="btn btn--outline" id="exportCSVBtn">Export as CSV</button>
                    </div>
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn btn--primary" id="executeImportBtn" style="display: none;">Import Projects</button>
                <button class="btn btn--secondary" id="closeImportExportBtn">Close</button>
            </div>

            <div id="importExportErrors" class="form-errors"></div>
        </div>
    </div>

    <!-- Toast notification -->
    <div id="toast" class="toast hidden">
        <span id="toastMessage"></span>
    </div>

    <!-- Confirmation modal -->
    <div id="confirmModal" class="modal hidden">
        <div class="modal-content">
            <h3 id="confirmModalTitle">Confirm Action</h3>
            <p id="confirmModalMessage">Are you sure you want to perform this action?</p>
            <div class="modal-actions">
                <button class="btn btn--primary" id="confirmActionBtn">Confirm</button>
                <button class="btn btn--secondary" id="cancelActionBtn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Hidden file input for import -->
    <input type="file" id="hiddenFileInput" style="display: none;" accept=".json,.csv">
    <script type="module">
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
  import { getAuth } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
  import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

  // Replace with your actual Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyD0fCY4dwc0igmcTYJOU2rRGQ0ERSVz2l4",
  authDomain: "daily-work-log-tracker.firebaseapp.com",
  projectId: "daily-work-log-tracker",
  storageBucket: "daily-work-log-tracker.firebasestorage.app",
  messagingSenderId: "891051391167",
  appId: "1:891051391167:web:1050e984fa86b4d070ee0a",
  measurementId: "G-3X0E8CJX59"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
</script>
    <script src="app.js"></script>
</body>
    
</html>
